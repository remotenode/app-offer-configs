# Технические спецификации

## Системные требования

### Минимальные версии API
- **Android**: API level 35
- **iOS**: iOS 18

### Размер приложения
- **Оптимальный**: до 30 МБ
- **Максимальный**: 100 МБ (не рекомендуется)
- **Недопустимый**: 100+ МБ

## Интеграции

### AppsFlyer SDK
- Трекинг установок и конверсий
- Получение данных конверсии
- Генерация уникальных идентификаторов

### Firebase SDK
- **Cloud Messaging**: Push-уведомления
- **Analytics**: Аналитика и метрики
- **Project ID**: Идентификация проекта

## WebView требования

### Поддерживаемые функции
- ✅ JavaScript
- ✅ Cookie
- ✅ Сессии
- ✅ Inline autoplay video
- ✅ Protected content
- ✅ Загрузка файлов
- ✅ Множественные редиректы

### Настройки
- **User-Agent**: Не должен указывать на WebView
- **Safe Area**: Адаптация под вырезы экрана
- **Поворот экрана**: Поддержка всех ориентаций
- **Навигация**: Стандартные жесты и кнопки

## Уведомления

### Firebase Cloud Messaging
- **Сервисный аккаунт**: `marla-export@marfa-290610.iam.gserviceaccount.com`
- **Роль**: `Basic → Owner`
- **Поддержка**: Изображения, кастомные иконки

### Разрешения
- **Android 13+**: Runtime permission для уведомлений
- **iOS**: ATT (App Tracking Transparency)
- **Кастомный экран**: Запрос перед WebView

## Конфигурация

### API эндпоинт
- **Метод**: POST
- **Content-Type**: application/json
- **Аутентификация**: Через параметры запроса

### Обязательные параметры
- `af_id`: AppsFlyer ID
- `bundle_id`: Bundle ID приложения
- `os`: Платформа (Android/iOS)
- `store_id`: Store ID
- `locale`: Локализация устройства
- `push_token`: Firebase токен
- `firebase_project_id`: Firebase Project ID

## Тестирование

### Тестовые ресурсы
- **Трекинговая ссылка**: AppsFlyer test link
- **Тестовый оффер**: https://test-web.syndi-test.net/
- **Test Devices**: GAID/IDFA в AppsFlyer аккаунте

### Сценарии тестирования
1. Органическая установка
2. Неорганическая установка
3. Первый запуск
4. Последующие запуски
5. Работа с уведомлениями
6. Обработка ошибок сети

## Безопасность

### Privacy Policy
- Соответствие требованиям App Store
- Соответствие требованиям Google Play
- Доступность в приложении

### Данные пользователя
- Минимальная коллекция данных
- Согласие на отслеживание (iOS)
- Прозрачность использования данных
